{"version":3,"sources":["components/Sitebar/AllUsers/Paginator/Paginator.module.css","components/Sitebar/AllUsers/UserForAllUsers/UserForAllUsers.module.css","components/Sitebar/AllUsers/pic/nophoto.png","components/Sitebar/AllUsers/Paginator/Paginator.jsx","components/Sitebar/AllUsers/UserForAllUsers/UserForAllUsers.jsx","components/Sitebar/AllUsers/AllUsers.jsx","components/Sitebar/AllUsers/AllUsersContainer.jsx"],"names":["module","exports","Paginator","totalUsersCount","countUsersOnPage","currentPage","onPageChanged","portionSize","pages","countPages","Math","ceil","i","push","portionCount","useState","numberPortion","setNumberPortion","leftPortionBoard","rightPortionBoard","mapPagesWithFilter","spanClassName","keyId","page","className","key","onClick","s","paginator","filter","p","map","selectedPage","id","drops","prevNextButton","UserForAllUsers","user","followingInProcess","unfollowTC","followTC","u","user_container","left","photo","to","src","photos","small","alt","followed","disabled","some","unfollow","button","follow","right","dataUser","fullname","name","status","location","cityName","country","AllUsers","props","users","AllUsersContainer","pageNamber","getUsersTC","this","length","isLoader","Loader","toggleFollowingInProcess","isLogin","React","Component","compose","connect","state","getUsers","getCountUsersOnPage","getTotalUsersCount","getCountPages","getCurrentPage","getIsLoader","getFollowingInProcess","getIsLogin","followSuccess","unfollowSuccess","setCurrentPage"],"mappings":"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","file":"static/js/4.34b4abf2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__19rC-\",\"paginator\":\"Paginator_paginator__2JIh8\",\"prevNextButton\":\"Paginator_prevNextButton__2KJ_C\",\"button\":\"Paginator_button__O3XT4\",\"drops\":\"Paginator_drops__1b74s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"left\":\"UserForAllUsers_left__suw1Y\",\"photo\":\"UserForAllUsers_photo__1MoJT\",\"user_container\":\"UserForAllUsers_user_container__2W1qr\",\"button\":\"UserForAllUsers_button__lN7TQ\",\"follow\":\"UserForAllUsers_follow__2-3qZ\",\"unfollow\":\"UserForAllUsers_unfollow__2xaUV\",\"right\":\"UserForAllUsers_right__1W_Dp\",\"fullname\":\"UserForAllUsers_fullname__CWgKC\",\"status\":\"UserForAllUsers_status__1rG2O\",\"country\":\"UserForAllUsers_country__1BWLr\"};","module.exports = __webpack_public_path__ + \"static/media/nophoto.57c40c67.png\";","import React, {useState} from 'react'\r\nimport s from './Paginator.module.css'\r\n\r\nconst Paginator = ({totalUsersCount, countUsersOnPage, currentPage, onPageChanged, portionSize = 10}) => {\r\n    let pages = [],\r\n        countPages = Math.ceil(totalUsersCount / countUsersOnPage);\r\n\r\n    for (let i = 1; i <= countPages; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(countPages / portionSize)\r\n    let [numberPortion, setNumberPortion] = useState(1)\r\n    let leftPortionBoard = (numberPortion - 1) * portionSize + 1\r\n    let rightPortionBoard = numberPortion * portionSize\r\n\r\n\r\n    let prevClick = () => {\r\n        setNumberPortion(numberPortion - 1)\r\n    }\r\n    let nextClick = () => {\r\n        setNumberPortion(numberPortion + 1)\r\n    }\r\n\r\n    let mapPagesWithFilter = (spanClassName, keyId, page) => {\r\n        return <span className={spanClassName} key={keyId}\r\n                     onClick={() => {\r\n                         if (page===0 || page===1 || page===2 || page===3){\r\n                             onPageChanged(page)\r\n                             setNumberPortion(1)\r\n                         }else if (page === countPages ||page === countPages - 1){\r\n                             onPageChanged(page)\r\n                             setNumberPortion(portionCount)\r\n                         }else {\r\n                             onPageChanged(page)\r\n                         }\r\n\r\n                     }}> {page} </span>\r\n\r\n    }\r\n\r\n    return (\r\n        <div className={s.paginator}>\r\n            {(numberPortion > 1) &&\r\n            <>\r\n                {\r\n                    pages.filter(p => p >= 0 && p < 4).map(p => {\r\n                        return mapPagesWithFilter(currentPage === p && s.selectedPage, p.id, p)\r\n                    })\r\n                }\r\n                <span className={s.drops}> ... </span>\r\n                <button className={s.prevNextButton} onClick={prevClick}>&larr;</button>\r\n            </>\r\n            }\r\n            {/*------------------------------------------------------------------------------------------------*/}\r\n            {\r\n                pages.filter(p => p >= leftPortionBoard && p <= rightPortionBoard).map(p => {\r\n                    return mapPagesWithFilter(currentPage === p && s.selectedPage, p.id, p)\r\n                })\r\n            }\r\n            {/*-----------------------------------------------------------------------------------------------*/}\r\n            {(numberPortion < portionCount) &&\r\n            <>\r\n                <button className={s.prevNextButton} onClick={nextClick}>&rarr;</button>\r\n                <span className={s.drops}> ... </span>\r\n                {\r\n                    pages.filter(p => p >= countPages - 1).map(p => {\r\n                        return mapPagesWithFilter(currentPage === p && s.selectedPage, p.id, p)\r\n                    })\r\n                }\r\n            </>\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default Paginator","import React from 'react'\r\nimport s from './UserForAllUsers.module.css'\r\nimport photo from '../pic/nophoto.png'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst UserForAllUsers = ({user, followingInProcess, unfollowTC, followTC}) => {\r\n    let u = user\r\n    return (\r\n        <div className={s.user_container}>\r\n            <div className={s.left}>\r\n                <div className={s.photo}>\r\n                    <NavLink to={\"/profile/\" + u.id}>\r\n                        <img src={u.photos.small != null ? u.photos.small : photo} alt=\"logo\"/>\r\n                    </NavLink>\r\n                </div>\r\n                <div>\r\n                    {u.followed\r\n                        ? <button disabled={followingInProcess.some(id => id === u.id)}\r\n                                  className={`${s.unfollow} ${s.button}`} onClick={() => {\r\n                            unfollowTC(u.id)\r\n                        }}>Unfollow</button>\r\n                        : <button disabled={followingInProcess.some(id => id === u.id)}\r\n                                  className={`${s.follow} ${s.button}`} onClick={() => {\r\n                                      followTC(u.id)\r\n                        }}>Follow</button>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div className={s.right}>\r\n                <div className={s.dataUser}>\r\n                    <div className={s.fullname}>{u.name} <span>(@{\"u.nickname\"})</span></div>\r\n                    <div className={s.status}>{u.status}</div>\r\n                </div>\r\n                <div className={s.location}>\r\n                    <span className={s.cityName}>{\"u.localisation.cityname\"}</span>/<span\r\n                    className={s.country}>{\"u.localisation.country\"}</span>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\n\r\nexport default UserForAllUsers","import React from 'react'\r\nimport Paginator from \"./Paginator/Paginator\";\r\nimport UserForAllUsers from \"./UserForAllUsers/UserForAllUsers\";\r\n\r\nconst AllUsers = (props) => {\r\n\r\n    return (\r\n        <div>\r\n            <Paginator totalUsersCount={props.totalUsersCount} countUsersOnPage={props.countUsersOnPage}\r\n                       onPageChanged={props.onPageChanged} currentPage={props.currentPage}/>\r\n            {props.users.map(u =>\r\n                <div key={u.id}>\r\n                    <UserForAllUsers user={u} followingInProcess={props.followingInProcess}\r\n                                     unfollowTC={props.unfollowTC}\r\n                                     followTC={props.followTC}/>\r\n                </div>)\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default AllUsers","import React from 'react'\r\nimport {connect} from \"react-redux\"\r\nimport {\r\n    followSuccess,\r\n    toggleFollowingInProcess,\r\n    setCurrentPage,\r\n    unfollowSuccess, getUsersTC,\r\n    unfollowTC,\r\n    followTC\r\n} from \"../../../redux/users_reducer\";\r\nimport AllUsers from \"./AllUsers\";\r\nimport Loader from \"../../common/Loader/Loader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCountPages,\r\n    getCountUsersOnPage,\r\n    getCurrentPage, getFollowingInProcess, getIsLoader, getIsLogin,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../../redux/selectors\";\r\n\r\nclass AllUsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        let {currentPage, countUsersOnPage} = this.props\r\n        if (this.props.users.length === 0) {\r\n            this.props.getUsersTC(currentPage, countUsersOnPage)\r\n        }\r\n    }\r\n    onPageChanged = (pageNamber) => {\r\n\r\n        let {countUsersOnPage} = this.props\r\n         this.props.getUsersTC(pageNamber, countUsersOnPage)\r\n     };\r\n    render() {\r\n        return <>\r\n            {this.props.isLoader ? <Loader/> : null}\r\n\r\n            <AllUsers countUsersOnPage={this.props.countUsersOnPage}\r\n                      totalUsersCount={this.props.totalUsersCount}\r\n                      users={this.props.users}\r\n                      follow={this.props.follow}\r\n                      unfollow={this.props.unfollow}\r\n                      currentPage={this.props.currentPage}\r\n                      onPageChanged={this.onPageChanged}\r\n                      toggleFollowingInProcess={this.props.toggleFollowingInProcess}\r\n                      followingInProcess={this.props.followingInProcess}\r\n                      unfollowTC={this.props.unfollowTC}\r\n                      followTC={this.props.followTC}\r\n                      isLogin={this.props.isLogin}/>\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        countUsersOnPage: getCountUsersOnPage(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        countPages: getCountPages(state),\r\n        currentPage: getCurrentPage(state),\r\n        isLoader: getIsLoader(state),\r\n        followingInProcess: getFollowingInProcess(state),\r\n        isLogin: getIsLogin(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps,{followSuccess, unfollowSuccess, setCurrentPage, toggleFollowingInProcess,\r\n        getUsersTC, unfollowTC, followTC })\r\n)(AllUsersContainer)\r\n"],"sourceRoot":""}